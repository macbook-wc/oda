import{_ as x,u as R,a as T,b as D,r as p,o as b,d as v,h as w,g as t,w as o,E as k,f as e,t as c,F as E,i as U,v as O,I as S,J as B,p as M,m as N}from"./index-0b507b74.js";/* empty css                */import{a as F,d as V}from"./intefaceApi-d74a85e7.js";const j=a=>{let i=decodeURI(a.headers["content-disposition"].split("=")[1]);const r=new Blob([a.data],{type:""});if("download"in document.createElement("a")){const s=document.createElement("a");s.download=i,s.style.display="none",s.href=URL.createObjectURL(r),document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s)}};const h=a=>(M("data-v-9ea13816"),a=a(),N(),a),A={class:"bgImg"},H={class:"detailTitle"},P={class:"viewLeft"},$=h(()=>e("div",{class:"viewTitle"},"Overview",-1)),q=["textContent"],J=["src"],W={class:"viewLeft"},z=h(()=>e("div",{class:"viewTitle"},"Details",-1)),G=["innerHTML"],K={class:"viewLeft"},Q=h(()=>e("div",{class:"viewTitle"},"Data access and cite",-1)),X={class:"downloadList"},Y={class:"loadItem"},Z=["onClick","textContent"],ee={class:"viewDio"},te={__name:"index",setup(a){const i=R(),r=T(),s=D();i.routeName=s.name;const n=p([]),m=p([]);let y=p(r.currentRoute.value.query.productId);b(()=>{I()});const C=l=>{if(!i.userInfo.token)O({showClose:!0,message:"Warning, pleace login",type:"warning",duration:1500}),setTimeout(()=>{r.push({path:"/login"})},1500);else{const f=`/api/product/download/${l.id}`;V(f).then(d=>{j(d)})}};async function I(){try{let l=await F({id:y.value});n.value=l.data,m.value=l.data.productDownloadUrlVOList,console.log(n)}catch(l){throw l}}return(l,f)=>{const d=S,_=B,u=k;return v(),w("div",A,[t(u,{class:"cardTop"},{default:o(()=>[e("div",H,"ODA-"+c(n.value.title),1),t(_,{gutter:24,class:"overview"},{default:o(()=>[t(d,{span:18},{default:o(()=>[e("div",P,[$,e("div",{class:"viewContent",textContent:c(n.value.overview),style:{"white-space":"pre-wrap"}},null,8,q)])]),_:1}),t(d,{span:6},{default:o(()=>[e("img",{class:"imgRight",src:n.value.overviewImg,alt:""},null,8,J)]),_:1})]),_:1})]),_:1}),t(u,{class:"cardTop"},{default:o(()=>[t(_,{gutter:24,class:"overview"},{default:o(()=>[t(d,{span:18},{default:o(()=>[e("div",W,[z,e("div",{class:"viewContent",innerHTML:n.value.details,style:{"white-space":"pre-wrap"}},null,8,G)])]),_:1}),t(d,{span:2})]),_:1})]),_:1}),t(u,{class:"cardTop"},{default:o(()=>[t(_,{gutter:24,class:"overview"},{default:o(()=>[t(d,{span:24},{default:o(()=>[e("div",K,[Q,e("div",X,[(v(!0),w(E,null,U(m.value,(g,L)=>(v(),w("div",{class:"downLoad",key:L},[e("div",Y,"Platform "+c(L+1)+":",1),e("div",{class:"downItem",onClick:oe=>C(g),textContent:c(g.downloadTitle)},null,8,Z)]))),128))])]),e("div",ee,"DOI: "+c(n.value.doi),1)]),_:1})]),_:1})]),_:1})])}}},le=x(te,[["__scopeId","data-v-9ea13816"]]);export{le as default};
