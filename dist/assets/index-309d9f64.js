import{u as g,a as y,b as I}from"./intefaceApi-8af7cd51.js";/* empty css               */import{H as b}from"./header-b3a72c1b.js";import{_ as L,u as k,r as p,o as x,b as C,i as R,w as s,E as D,d as a,e as t,t as l,n as E,y as S,z as U,p as T,j as B}from"./index-af726cfa.js";const O=d=>{let n=decodeURI(d.headers["content-disposition"].split("=")[1]);const c=new Blob([d.data],{type:""});if("download"in document.createElement("a")){const e=document.createElement("a");e.download=n,e.style.display="none",e.href=URL.createObjectURL(c),document.body.appendChild(e),e.click(),URL.revokeObjectURL(e.href),document.body.removeChild(e)}};const _=d=>(T("data-v-fa4da462"),d=d(),B(),d),j={class:"detailTitle"},N={class:"viewLeft"},H=_(()=>t("div",{class:"viewTitle"},"Overview",-1)),M={class:"viewContent"},V=["src"],$={class:"viewLeft"},q=_(()=>t("div",{class:"viewTitle"},"Details",-1)),z={class:"viewContent"},A=["src"],P={class:"viewLeft"},W=_(()=>t("div",{class:"viewTitle"},"Data access and cite",-1)),F={class:"downloadList"},G={class:"downLoad"},J=_(()=>t("div",{class:"loadItem"},"download:",-1)),K={class:"viewDio"},Q={__name:"index",setup(d){const n=g(),c=k(),e=p([]);let v=p(c.currentRoute.value.query.productId);console.log(v,"productId"),x(()=>{m()});const w=o=>{n.userInfo.token?h():(E({showClose:!0,message:"Warning, pleace login",type:"warning",duration:1500}),setTimeout(()=>{c.push({path:"/login"})},1500))};async function m(){try{let o=await y({id:v.value});e.value=o.data}catch(o){throw o}}async function h(){try{const o=`/api/product/download/${e.value.id}`;let r=await I({method:"get",url:o,responseType:"blob",headers:{token:n.userInfo.token}});O(r)}catch(o){throw o}}return(o,r)=>{const i=S,u=U,f=D;return C(),R(f,null,{default:s(()=>[a(b),t("div",j,l(e.value.title),1),a(u,{gutter:24,class:"overview"},{default:s(()=>[a(i,{span:20},{default:s(()=>[t("div",N,[H,t("div",M,l(e.value.overview),1)])]),_:1}),a(i,{span:4},{default:s(()=>[t("img",{class:"imgRight",src:e.value.overviewImg,alt:""},null,8,V)]),_:1})]),_:1}),a(u,{gutter:24,class:"overview"},{default:s(()=>[a(i,{span:22},{default:s(()=>[t("div",$,[q,t("div",z,l(e.value.details),1)])]),_:1}),a(i,{span:2},{default:s(()=>[t("img",{class:"imgSmall",src:e.value.imgUrl,alt:""},null,8,A)]),_:1})]),_:1}),a(u,{gutter:24,class:"overview"},{default:s(()=>[a(i,{span:24},{default:s(()=>[t("div",P,[W,t("div",F,[t("div",G,[J,t("div",{class:"downItem",onClick:r[0]||(r[0]=X=>w())},l(e.value.title),1)])])]),t("div",K,"DOI: "+l(e.value.doi),1)]),_:1})]),_:1})]),_:1})}}},oe=L(Q,[["__scopeId","data-v-fa4da462"]]);export{oe as default};
