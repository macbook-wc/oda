import{b as I,a as y}from"./intefaceApi-dccee3c1.js";import{d as x}from"./index-6b53c371.js";import{_ as D,u as C,a as k,b as L,r as p,o as R,d as S,e as T,w as o,E as b,f as e,t as n,g as a,q as E,J as B,K as N,p as O,n as q}from"./index-3aa4c74c.js";const d=l=>(O("data-v-96346ee4"),l=l(),q(),l),A={class:"detailTitle"},M={class:"viewLeft"},P=d(()=>e("div",{class:"viewTitle"},"Overview",-1)),V={class:"viewContent"},$=["src"],J={class:"viewLeft"},K=d(()=>e("div",{class:"viewTitle"},"Details",-1)),U={class:"viewContent"},W={class:"viewLeft"},j=d(()=>e("div",{class:"viewTitle"},"Data access and cite",-1)),z={class:"downloadList"},F={class:"downLoad"},G=d(()=>e("div",{class:"loadItem"},"Platform 1:",-1)),H={class:"viewDio"},Q={__name:"index",setup(l){const r=C(),u=k(),v=L();console.log(v.name,"route"),r.routeName=v.name;const s=p([]);let w=p(u.currentRoute.value.query.productId);R(()=>{f()});const h=t=>{r.userInfo.token?m():(E({showClose:!0,message:"Warning, pleace login",type:"warning",duration:1500}),setTimeout(()=>{u.push({path:"/login"})},1500))};async function f(){try{let t=await I({id:w.value});s.value=t.data}catch(t){throw t}}async function m(){try{const t=`/api/product/download/${s.value.id}`;let c=await y({method:"get",url:t,responseType:"blob",headers:{token:r.userInfo.token}});x(c)}catch(t){throw t}}return(t,c)=>{const i=B,_=N,g=b;return S(),T(g,{class:"bgImg"},{default:o(()=>[e("div",A,"ODA-"+n(s.value.title),1),a(_,{gutter:24,class:"overview"},{default:o(()=>[a(i,{span:18},{default:o(()=>[e("div",M,[P,e("div",V,n(s.value.overview),1)])]),_:1}),a(i,{span:6},{default:o(()=>[e("img",{class:"imgRight",src:s.value.overviewImg,alt:""},null,8,$)]),_:1})]),_:1}),a(_,{gutter:24,class:"overview"},{default:o(()=>[a(i,{span:18},{default:o(()=>[e("div",J,[K,e("div",U,n(s.value.details),1)])]),_:1}),a(i,{span:2})]),_:1}),a(_,{gutter:24,class:"overview"},{default:o(()=>[a(i,{span:24},{default:o(()=>[e("div",W,[j,e("div",z,[e("div",F,[G,e("div",{class:"downItem",onClick:c[0]||(c[0]=X=>h())},n(s.value.title),1)])])]),e("div",H,"DOI: "+n(s.value.doi),1)]),_:1})]),_:1})]),_:1})}}},te=D(Q,[["__scopeId","data-v-96346ee4"]]);export{te as default};
