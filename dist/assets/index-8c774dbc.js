import{u as h,l as V}from"./intefaceApi-8af7cd51.js";/* empty css               *//* empty css                 */import{_ as z,u as I,l as k,r as _,b as C,c as R,d as e,w as o,E as q,m,n as P,q as B,s as F,v as S,x as U,y as M,z as N,p as L,j as T,e as $}from"./index-af726cfa.js";const j=l=>(L("data-v-79e340a4"),l=l(),T(),l),D={class:"loginPage"},Q=j(()=>$("div",{class:"registerPage"},"Login Page",-1)),A={__name:"index",setup(l){const u=I(),f=h(),a=k({email:"",password:""}),i=_("large"),d=_(),g=t=>{t&&t.validate(s=>{if(s)v();else return console.log("error submit!"),!1})},w=()=>{u.push({path:"/register"})};async function v(){try{let t=await V(a);t.code==200&&(f.$patch(s=>{s.userInfo.token=t.data,s.userInfo.email=a.email}),P({showClose:!0,message:"login success",type:"success",duration:1500}),setTimeout(()=>{u.push({path:"/"})},1500))}catch(t){throw t}}return(t,s)=>{const c=B,r=F,p=S,x=U,b=M,y=N,E=q;return C(),R("div",D,[e(E,{class:"card"},{default:o(()=>[Q,e(y,{gutter:24,class:""},{default:o(()=>[e(b,{span:24},{default:o(()=>[e(x,{size:i.value,ref_key:"formRef",ref:d,model:a,"label-width":"100px",class:"demo-ruleForm"},{default:o(()=>[e(r,{label:"Email",prop:"email",rules:[{required:!0,message:"Email is required"}]},{default:o(()=>[e(c,{modelValue:a.email,"onUpdate:modelValue":s[0]||(s[0]=n=>a.email=n),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(r,{label:"Password",prop:"password",rules:[{required:!0,message:"Password is required"}]},{default:o(()=>[e(c,{modelValue:a.password,"onUpdate:modelValue":s[1]||(s[1]=n=>a.password=n),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(r,{class:"btnMiddle"},{default:o(()=>[e(p,{size:i.value,class:"btn",type:"primary",onClick:s[2]||(s[2]=n=>g(d.value))},{default:o(()=>[m("Login")]),_:1},8,["size"])]),_:1}),e(r,{class:"btnMiddle"},{default:o(()=>[e(p,{size:i.value,class:"btn",onClick:w},{default:o(()=>[m("Quick Register")]),_:1},8,["size"])]),_:1})]),_:1},8,["size","model"])]),_:1})]),_:1})]),_:1})])}}},O=z(A,[["__scopeId","data-v-79e340a4"]]);export{O as default};
